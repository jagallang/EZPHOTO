# 📸 REphoto - 폴라로이드 프레임 앱

<p align="center">
  <img src="https://github.com/jagallang/EZPHOTO/blob/main/assets/app_icon.png?raw=true" width="128" height="128" alt="REphoto Logo">
</p>

<p align="center">
  <strong>사진을 예술로 만드는 폴라로이드 프레임 앱</strong>
</p>

<p align="center">
  <a href="https://rephoto-88741.web.app">🌐 웹 버전 체험하기</a> |
  <a href="https://play.google.com/store/apps">📱 Google Play</a> |
  <a href="#features">✨ 주요 기능</a> |
  <a href="#screenshots">📸 스크린샷</a>
</p>

---

## 🎯 개요

**REphoto**는 평범한 사진을 감성적인 폴라로이드 스타일로 변환해주는 Flutter 기반 크로스플랫폼 앱입니다. 직관적인 UI로 누구나 쉽게 멋진 추억의 앨범을 만들 수 있습니다.

### 🌟 핵심 가치
- **간편성**: 복잡한 설정 없이 3단계로 완성
- **품질**: 고해상도 이미지 출력 지원
- **다양성**: 1~4장 다양한 레이아웃 제공
- **접근성**: 웹/모바일 멀티플랫폼 지원

## ✨ 주요 기능

### 📱 핵심 기능
- **🖼️ 폴라로이드 프레임**: 클래식한 즉석 사진 느낌
- **📐 다양한 레이아웃**: 1장, 2장, 3장, 4장 분할 레이아웃
- **🔄 방향 설정**: 세로형/가로형 자유 선택
- **🎨 사진 편집**: 확대/축소/회전/위치 조정
- **📑 멀티페이지**: 여러 페이지로 구성된 앨범 제작
- **🏷️ 제목 편집**: 각 페이지별 맞춤 제목 설정

### 🛠️ 고급 기능
- **📄 PDF 생성**: 프로페셔널한 문서 형태로 저장
- **💾 고품질 저장**: 원본 품질 유지하여 갤러리 저장
- **🌐 웹 지원**: 브라우저에서 바로 사용 가능
- **📱 반응형 UI**: 다양한 화면 크기 최적화
- **🔧 설정**: 언어, 품질 등 개인화 설정
- **📄 견적서 생성**: 프로페셔널한 비즈니스 견적서 작성
- **🖼️ 로고 업로드**: 견적서에 회사 로고 이미지 첨부
- **💰 금액 편집**: Total Amount 자유 입력 (금액/협의/TBD 등)

### 🎭 사용자 경험
- **🚀 빠른 처리**: 실시간 미리보기 제공
- **💡 직관적 UI**: 누구나 쉽게 사용 가능한 인터페이스
- **🔒 프라이버시**: 모든 처리가 기기 내부에서만 진행
- **📋 개인정보보호**: 투명한 개인정보처리방침 제공

## 🏗️ 기술 스택

### Frontend
- **Flutter 3.29.2**: 크로스플랫폼 UI 프레임워크
- **Dart 3.7.2**: 프로그래밍 언어

### 핵심 패키지
- **image_picker**: 사진 선택/촬영 기능
- **screenshot**: 화면 캡처 및 이미지 생성
- **gal**: 갤러리 저장 (모바일)
- **pdf**: PDF 문서 생성
- **printing**: 인쇄 및 공유 기능
- **easy_localization**: 다국어 지원

### 배포 & 인프라
- **Firebase Hosting**: 웹 앱 호스팅
- **Google Play Store**: Android 앱 배포
- **R8 최적화**: 코드 난독화 및 크기 최적화

## 🚀 설치 및 실행

### 📋 요구사항
- Flutter SDK 3.29.2+
- Dart SDK 3.7.2+
- Android Studio / Xcode (모바일 개발)
- Node.js (웹 배포)

### 🔧 개발 환경 설정
```bash
# 1. 저장소 클론
git clone https://github.com/jagallang/EZPHOTO.git
cd EZPHOTO

# 2. 의존성 설치
flutter pub get

# 3. 코드 생성 (필요시)
flutter packages pub run build_runner build
```

### ▶️ 실행 방법

#### 모바일 개발
```bash
# Android 실행
flutter run -d android

# iOS 실행 (macOS에서만)
flutter run -d ios

# 디버그 빌드
flutter build apk --debug

# 릴리스 빌드
flutter build apk --release
```

#### 웹 개발
```bash
# 웹 개발 서버 실행
flutter run -d chrome

# 웹 빌드
flutter build web

# Firebase 배포
firebase deploy
```

## 📱 플랫폼별 특징

### 🤖 Android
- **최소 SDK**: 21 (Android 5.0)
- **대상 SDK**: 최신
- **권한**: 카메라, 저장소 접근
- **최적화**: R8 코드 압축 및 난독화

### 🍎 iOS
- **최소 버전**: iOS 12.0+
- **아키텍처**: arm64, x86_64
- **권한**: 사진 라이브러리, 카메라 접근

### 🌐 웹
- **지원 브라우저**: Chrome, Firefox, Safari, Edge
- **반응형**: 데스크톱/태블릿/모바일 최적화
- **PWA**: 프로그레시브 웹 앱 지원

## 🆕 최신 업데이트 (v1.2.30)

### 🧾 인보이스 템플릿 추가 및 최적화 (v1.2.30)
- **📋 인보이스 템플릿 추가**: 견적서 기반 인보이스(영문/한글) 템플릿 구현
- **💳 편집 가능한 결제 안내사항**: 3줄 터치 편집 기능으로 은행 정보, 계좌번호 등 입력 가능
- **🎨 동적 제목 시스템**: 견적서 "중요 안내사항" vs 인보이스 "결제 안내사항" 자동 변경
- **✨ 깔끔한 레이아웃**: 인보이스에서 불필요한 프로젝트 관련 안내문구 제거
- **🔧 조건부 렌더링**: 템플릿별 차별화된 UI 컴포넌트 적용
- **📱 간소화된 기본값**: "입금은행" 기본값으로 직관적인 사용자 경험

### 🛠️ 인보이스 기능 상세 (v1.2.30)
```dart
// 인보이스 템플릿 식별
final isInvoice = coverData.template.contains('invoice');

// 동적 제목 생성
String _getNoticeTitle() {
  return isInvoice 
    ? (isKorean ? '결제 안내사항' : 'PAYMENT NOTICE / 결제 안내사항')
    : 'IMPORTANT NOTICE / 중요 안내사항';
}

// 편집 가능한 3줄 결제 안내
paymentNoticeLines: ['입금은행', '', '']

// 조건부 추가 안내문구 (견적서만)
if (isInvoice) return []; // 인보이스는 추가 안내 제거
```

### 🎯 사용법 (v1.2.30)
1. **겉표지** → **인보이스(영문)** 또는 **인보이스(한글)** 선택
2. **결제 안내사항** 섹션에서 각 줄 터치하여 편집
3. 입금은행, 계좌번호, 예금주 등 결제 정보 입력
4. 고품질 PDF/이미지로 저장 및 공유

## 📋 이전 업데이트 (v1.2.28)

### 🔧 코드 품질 향상 및 버전 동기화 (v1.2.28)
- **📦 버전 통합 관리**: 모든 하드코딩된 버전을 `AppConstants.appVersion`으로 중앙화하여 일관성 확보
- **⚡ BuildContext 안전성**: 비동기 함수에서 `mounted` 검사 및 MediaQuery 사전 추출로 안전성 향상
- **🎨 최신 API 적용**: deprecated `withOpacity()` → `withValues(alpha:)` 업데이트
- **📋 import 최적화**: 불필요한 `dart:typed_data` import 제거로 코드 정리
- **🏗️ 생성자 최적화**: `super.key` 패턴 적용으로 모던 Dart 스타일 적용
- **✅ 정적 분석 통과**: Flutter analyze에서 모든 경고 및 오류 해결 (11개 → 0개)

## 📋 이전 업데이트 (v1.2.27)

### 📱 모바일 앱 견적서 화면 오버플로우 완전 해결 (v1.2.27)
- **상단 헤더 높이 40% 축소**: screenHeight * 0.05 → 0.03으로 ESTIMATE 영역 대폭 축소
- **로고 및 제목 크기 최적화**: 로고 25% 축소, 제목 폰트 20% 축소로 공간 효율성 극대화
- **전체 간격 극단적 압축**: 섹션 간격 50% 축소, 작은 간격 50% 축소로 수직 공간 확보
- **모바일 앱 전용 최적화**: isMobileSize 로직 적용으로 모바일 앱도 모바일 웹 수준 압축
- **정보 섹션 간격 최소화**: 공급자/고객 정보 간 vertical spacing을 0.05로 극소화
- **구분선 및 패딩 조정**: 구분선 높이 0.5px, 중요 안내문구 패딩 2px로 최소화
- **완벽한 화면 적합**: 모든 견적서 내용이 오버플로우 없이 한 화면에 완전 표시

### 🔧 모바일 웹 사진 내보내기 확대/축소 상태 보존 완전 해결 (v1.2.27)
- **captureFromWidget 방식 적용**: 기존 UI 수정 없이 별도 내보내기 전용 위젯 생성
- **확대/회전/위치 상태 완벽 보존**: 모바일 웹에서 확대한 사진이 내보내기 후에도 동일한 상태 유지
- **A4 고정 크기 내보내기**: 595x842 픽셀 고정 크기로 일관된 고품질 내보내기
- **UI 상태 비간섭**: 내보내기 중 실제 화면 UI는 전혀 변경되지 않아 사용자 경험 최적화
- **모바일 웹 전용 로직**: isMobileWeb && pageIndex == currentPageIndex 조건으로 정확한 대상 선별
- **메모리 효율성**: 내보내기 완료 후 즉시 메모리 해제로 성능 최적화

### 🚀 기술적 구현 세부사항 (v1.2.27)
```dart
// 핵심 해결책: captureFromWidget 활용
final widget = _buildMobileWebExportWidget(pageData);
imageBytes = await _screenshotController.captureFromWidget(
  widget,
  pixelRatio: 3.0,
  context: context,
  targetSize: const Size(595, 842), // A4 고정 크기
);
```

## 📋 이전 업데이트 (v1.2.26)

### 🔄 모바일 웹 사진 내보내기 문제 임시 해결책 시도 (v1.2.26)
- **백업/복원 메커니즘**: 내보내기 전후 확대/위치 상태 백업 및 복원 시도
- **isForExport 플래그**: 내보내기 모드에서 컨테이너 크기 동적 조정
- **상태 보존 로직**: photoZoom, photoOffset, photoRotation 값 임시 저장
- **한계점 확인**: UI 리렌더링으로 인한 상태 초기화 문제 미해결
- **롤백 필요성**: v1.2.26에서 v1.2.25로 되돌린 후 v1.2.27에서 근본 해결

## 📋 이전 업데이트 (v1.2.25)

### 📱 모바일웹 수출 모드 폰트 일관성 문제 해결 (v1.2.25)
- **화면-수출 일치성**: 모바일웹에서 화면 표시와 수출 이미지의 폰트 크기 완전 일치
- **A4 수출 모바일 최적화**: A4 수출 모드에서도 모바일웹 조건 적용하여 테이블 헤더 한 줄 표시
- **폰트 로직 개선**: `isA4Export ? (isMobileWeb ? 8pt : 12pt)` 조건부 적용
- **테이블 헤더 완벽 표시**: Description, Specification 등이 두 줄로 넘어가지 않음
- **사진 레포트 안정화**: 폰트 변경으로 인한 뒷장 렌더링 문제 해결
- **전체 텍스트 최적화**: 총 8개 폰트 요소의 모바일웹 수출 모드 개별 조정

## 📋 이전 업데이트 (v1.2.24)

### 🗑️ 견적서 불필요 문구 제거로 완벽한 경고문구 표시 (v1.2.24)
- **제출 문구 제거**: "We hereby submit the above estimate" 문구 완전 삭제
- **중복 경고 제거**: "*This estimate is based on the time..." 경고 문구 삭제
- **공간 최대 활용**: 50-70px 추가 공간 확보로 IMPORTANT NOTICE 완전 표시
- **레이아웃 간소화**: 불필요한 텍스트 제거로 깔끔하고 전문적인 견적서 완성
- **완벽한 A4 출력**: 모든 경고문구가 A4 범위 내 완전히 포함되도록 최적화

## 📋 이전 업데이트 (v1.2.23)

### 🔧 견적서 하단 경고문구 잘림 문제 해결 (v1.2.23)
- **간격 최적화**: 테이블 하단 간격 50% 축소 (0.8 → 0.4)로 공간 확보
- **섹션 간격 조정**: 공급자/고객 정보 섹션 간격 50% 축소 (0.6 → 0.3)
- **경고문구 완전 표시**: IMPORTANT NOTICE 전체 내용이 A4 출력에 포함되도록 개선
- **수직 공간 활용**: 총 40-50px 공간 절약으로 모든 내용이 A4 범위 내 출력
- **레이아웃 균형**: A4 비율 유지하면서도 가독성 저하 없이 간격 최적화

## 📋 이전 업데이트 (v1.2.22)

### 🖨️ 견적서 출력 품질 대폭 개선 (v1.2.22)
- **A4 용지 비율 완벽 적용**: 수출시 A4 용지(210:297) 비율로 자동 조정
- **폰트 크기 최적화**: 수출 모드에서 제목 28pt, 헤더 14pt, 테이블 12pt로 가독성 향상
- **여백 및 간격 개선**: 패딩 24pt, 적절한 섹션 간격으로 전문적 레이아웃 구현
- **하단 여백 제거**: 불필요한 빈 공간 제거로 깔끔한 출력 결과
- **화면 표시용/수출용 구분**: 각각 최적화된 크기로 사용자 경험 향상

## 📋 이전 업데이트 (v1.2.21)

### 🔧 입력 필드 통일성 및 레이아웃 최적화 (v1.2.20)
- **📅 DATE 입력창 통일**: DATE/PROJECT 입력필드 높이를 다른 입력필드와 동일하게 축소 (22px→16px)
- **💰 Total Amount 레이아웃 개선**: 입력 영역을 50% 확장하여 금액이 한 줄로 표시되도록 최적화
- **📏 완벽한 UI 일관성**: 모든 입력 필드가 동일한 높이와 스타일로 통일된 디자인 구현
- **🎯 공간 효율 극대화**: Spacer 제거 및 고정 간격 사용으로 레이아웃 예측 가능성 향상

### 🎨 세부 최적화 내역 (v1.2.20)
```dart
// DATE/PROJECT 입력필드 통일
- 높이: 22px → 16px (다른 입력필드와 동일)

// Total Amount 최적화  
- 입력 영역 flex: 2 → 3 (50% 확장)
- 컨테이너 패딩: 10px → 6px
- 입력 패딩: 8px/4px → 6px/2px  
- 폰트 크기: 11px→9px, 12px→10px, 8px→6px
- 고정 간격 사용으로 레이아웃 안정화
```

---

## 📋 이전 업데이트 (v1.2.19)

### 📱 모바일 웹 견적서 완전 최적화 (v1.2.19)
- **🎯 완벽한 한 화면 표시**: 모바일 웹 견적서가 스크롤 없이 완전히 한 화면에 표시되도록 극단적 최적화
- **📋 테이블 간격 대폭 축소**: 헤더 패딩 67% 축소, 셀 높이 31% 축소로 10행 테이블 완전 표시
- **📝 입력 필드 압축**: 공급자/고객 정보 입력 필드 높이 27% 축소 (22px→16px)
- **🔧 극소 간격 적용**: 모든 섹션 간격을 0.1~0.15px 수준으로 최소화

### 🎨 세부 최적화 내역 (v1.2.19)
```dart
// 테이블 최적화
- 헤더 패딩: 6px → 2px (67% 축소)
- 셀 높이: 26px → 18px (31% 축소)  
- 테이블 폰트: 8px → 6px

// 입력 필드 최적화
- Container 높이: 22px → 16px (27% 축소)
- 공급자 정보 간격: 0.2px → 0.1px
- 고객 정보 간격: 0.3px → 0.15px

// 전체 간격 최소화
- 섹션 간격: 8px → 0.5-2px (75-94% 축소)
- 작은 간격: 4px → 0.5-1px (75-88% 축소)
```

---

## 📋 이전 업데이트 (v1.2.18)

### 🎯 크리티컬 버그 수정 (v1.2.18)
- **🖼️ 견적서 회색화면 저장 문제 완전 해결**: MediaQuery 및 Material 컨텍스트 부족으로 인한 captureFromWidget 렌더링 실패 수정
- **🔧 컨텍스트 최적화**: CoverPageWidget 렌더링 시 필요한 MediaQuery.of(context) 및 Material 위젯 래핑 제공
- **📷 캡처 메커니즘 개선**: 견적서와 사진 레포트 모두에서 실제 내용이 정상적으로 저장되도록 보장

---

## 📋 이전 업데이트 (v1.2.14)

### 🚀 주요 기능 추가
- **📱 모바일 웹 반응형 레이아웃**: 화면 크기(768px 미만)별 동적 폰트 및 간격 자동 조정
- **🔄 가로 스크롤 네비게이션**: 하단 앱바를 SingleChildScrollView + Row로 한 줄 가로 스크롤 지원
- **📜 스마트 스크롤뷰**: 모바일 웹에서만 견적서에 세로 스크롤 적용하여 오버플로우 완전 해결
- **🎯 컨텍스트 인식 레이아웃**: 미리보기 시 스크롤, 저장 시 고정 레이아웃으로 자동 전환

### 📱 모바일 웹 최적화
- **⚡ 극단적 공간 효율화**: 상단 정보 섹션 간격을 50-80% 축소하여 하단 테이블 공간 확보
- **🔤 동적 타이포그래피**: 견적서 제목 60% 축소 (22px→12-16px), 로고 크기 동적 조정
- **📐 정밀 간격 제어**: 섹션별 차별화된 간격 최적화 (패딩, 마진, 폰트 크기)
- **🎨 반응형 컴포넌트**: 공급자/고객 정보 영역 모바일 전용 간격 적용

### 🐛 버그 수정 (v1.2.14)
- **📷 스크린샷 캡처 개선**: SingleChildScrollView 간섭으로 인한 저장 실패 문제 수정
- **⚖️ 레이아웃 분리**: isForExport 조건 활용으로 미리보기용/저장용 레이아웃 완전 분리
- **🔧 네비게이션 최적화**: 모바일 웹 하단 버튼이 두 줄로 나오던 문제 해결

### 🎯 기술적 우수성
- **📊 실시간 반응형**: MediaQuery 기반 화면 크기 감지 및 동적 레이아웃 조정
- **🏗️ 모듈화된 구조**: 재사용 가능한 반응형 컴포넌트 (SupplierInfoResponsive, CustomerInfoResponsive)
- **🎛️ 조건부 렌더링**: isMobileWeb 플래그로 플랫폼별 최적화 구현
- **🔄 코드 효율성**: 중복 코드 제거 및 contentWidget 패턴으로 구조 개선

## 📊 앱 성능

### ⚡ 성능 지표
- **앱 크기**: ~24MB (Android AAB)
- **시작 시간**: ~2초
- **메모리 사용량**: ~100MB
- **배터리 효율**: 최적화됨

### 🎯 최적화 기술
- **이미지 압축**: 자동 품질 조정
- **메모리 관리**: 효율적인 이미지 캐싱
- **UI 반응성**: 60fps 유지
- **코드 분할**: 필요시에만 로드

## 🛡️ 보안 및 프라이버시

### 🔒 개인정보 보호
- **로컬 처리**: 모든 사진 편집이 기기 내부에서만 진행
- **데이터 수집 없음**: 개인정보 수집하지 않음
- **네트워크 전송 없음**: 사진이 외부로 전송되지 않음
- **투명성**: 명확한 개인정보처리방침 제공

### 🛡️ 보안 기능
- **앱 샌드박스**: 안전한 실행 환경
- **권한 최소화**: 필수 권한만 요청
- **코드 난독화**: 보안 강화 (릴리스 빌드)

## 🤝 기여하기

### 💡 기여 방법
1. **Fork** 저장소
2. **Feature Branch** 생성 (`git checkout -b feature/amazing-feature`)
3. **Commit** 변경사항 (`git commit -m 'Add some amazing feature'`)
4. **Push** to Branch (`git push origin feature/amazing-feature`)
5. **Pull Request** 생성

### 🐛 버그 리포트
- [GitHub Issues](https://github.com/jagallang/EZPHOTO/issues)를 통해 버그 신고
- 재현 가능한 단계 포함
- 스크린샷 첨부 권장

### 💬 피드백
- Google Play 스토어 리뷰
- GitHub Discussions
- 이메일: [개발자 연락처]

## 📈 로드맵

### 🎯 v1.2.15 (다음 릴리스)
- [ ] 견적서 데이터 영구 저장 기능 (로컬 스토리지/클라우드)
- [ ] 견적서 템플릿 색상 및 폰트 커스터마이징
- [ ] PDF 견적서 자동 생성 및 직접 다운로드 기능
- [ ] 견적서 템플릿 사전 설정 저장/불러오기 시스템

### 🎯 v1.3.0 (예정)
- [ ] 다양한 프레임 템플릿 추가
- [ ] 텍스트 스타일링 옵션 확장
- [ ] 클라우드 저장 기능
- [ ] 소셜 공유 기능

### 🎯 v1.4.0 (장기 계획)
- [ ] 동영상 프레임 지원
- [ ] AI 기반 자동 편집
- [ ] 템플릿 마켓플레이스
- [ ] 데스크톱 앱 (Windows, macOS, Linux)

## 📄 라이선스

이 프로젝트는 [MIT License](LICENSE) 하에 배포됩니다.

## 📞 연락처

- **개발자**: REphoto Team
- **이메일**: [GitHub Issues](https://github.com/jagallang/EZPHOTO/issues)
- **웹사이트**: https://rephoto-88741.web.app
- **GitHub**: https://github.com/jagallang/EZPHOTO

## 🏆 인정사항

### 📚 사용된 오픈소스
- [Flutter](https://flutter.dev) - Google의 UI 툴킷
- [Firebase](https://firebase.google.com) - 웹 호스팅
- [Material Design](https://material.io) - 디자인 시스템

### 🎨 디자인 영감
- 클래식 폴라로이드 카메라
- 빈티지 사진 앨범
- 미니멀 디자인 철학

---

<p align="center">
  <strong>📸 REphoto와 함께 소중한 추억을 더욱 특별하게 만들어보세요! ✨</strong>
</p>

<p align="center">
  <sub>Made with ❤️ by REphoto Team</sub>
</p>